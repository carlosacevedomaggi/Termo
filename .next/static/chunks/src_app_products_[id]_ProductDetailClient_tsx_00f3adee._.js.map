{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/chickynice/Desktop/ec2/termo/src/app/products/%5Bid%5D/ProductDetailClient.tsx"],"sourcesContent":["\"use client\"\nimport { useCartStore } from '@/store/cart'\nimport { useState } from 'react'\n\nexport type Product = {\n  id: string\n  name: string\n  price: number\n  description: string\n  specs: string[]\n  manufacturer: string\n  model: string\n  availability: number\n  supportsCondition?: boolean\n  refurbishmentDiscount?: number\n  refurbishedPrice?: number\n  kitAddOn?: {\n    slug: string\n    name: string\n    price: number\n  }\n}\n\nexport default function ProductDetailClient({ product, images }: { product: Product; images: string[] }) {\n  const addToCart = useCartStore(s => s.addItem)\n  const [ack, setAck] = useState<string | null>(null)\n  const [imgIdx, setImgIdx] = useState(0)\n  const [condition, setCondition] = useState<'nuevo' | 'reconstruido'>('nuevo')\n  const [includeKit, setIncludeKit] = useState(false)\n\n  const isHeater = product.id.includes('calentadores-termotronic') || product.id.includes('calentadores-cbx')\n\n  const isRefurbished = product.supportsCondition && condition === 'reconstruido'\n  const basePrice = isRefurbished\n    ? product.refurbishedPrice ?? (product.refurbishmentDiscount ? Math.round(product.price * product.refurbishmentDiscount * 100) / 100 : product.price)\n    : product.price\n  const kitPrice = includeKit && product.kitAddOn ? product.kitAddOn.price : 0\n  const finalPrice = Math.round((basePrice + kitPrice) * 100) / 100\n\n  const shortDescription = `Especificaciones\\n- Fabricante: ${product.manufacturer}\\n- Modelo: ${product.model}\\n- Disponibilidad: ${product.availability}`\n\n  const renderGallery = () => (\n    <>\n      <div className=\"rounded-3xl bg-muted aspect-square overflow-hidden\">\n        <img src={images[imgIdx] ?? images[0]} alt={product.name} className=\"w-full h-full object-cover\" />\n      </div>\n      {images.length > 1 && (\n        <div className=\"mt-3 flex gap-2 overflow-x-auto\">\n          {images.map((src, i) => (\n            <button key={src} onClick={()=>setImgIdx(i)} className={`h-16 w-16 rounded-md overflow-hidden border ${imgIdx===i? 'border-black' : 'border-border'}`}>\n              <img src={src} alt=\"thumb\" className=\"w-full h-full object-cover\" />\n            </button>\n          ))}\n        </div>\n      )}\n    </>\n  )\n\n  const handleAddToCart = () => {\n    const name = `${product.name}${isRefurbished ? ' (Reacondicionado)' : ''}${includeKit && product.kitAddOn ? ' + Kit' : ''}`\n    addToCart({\n      id: `${product.id}-${condition}${includeKit && product.kitAddOn ? '-kit' : ''}`,\n      name,\n      price: finalPrice,\n    })\n    if (includeKit && product.kitAddOn) {\n      addToCart({ id: product.kitAddOn.slug, name: product.kitAddOn.name, price: product.kitAddOn.price })\n    }\n    setAck(`${name} agregado al carrito`)\n    setTimeout(()=>setAck(null), 1500)\n  }\n\n  if (isHeater) {\n    return (\n      <div className=\"container-edge py-14 grid gap-10 lg:grid-cols-[minmax(0,1.1fr)_minmax(0,0.9fr)] lg:items-start\">\n        <div className=\"space-y-6\">\n          {renderGallery()}\n\n          <div className=\"rounded-3xl border border-black/5 bg-white p-6 shadow-lg space-y-5\">\n            <div className=\"space-y-3\">\n              <h1 className=\"text-3xl font-semibold text-slate-900\">{product.name}</h1>\n              <p className=\"text-sm uppercase tracking-[0.3em] text-slate-500\">{product.manufacturer} • {product.model}</p>\n              <div className=\"text-sm text-slate-700 leading-relaxed space-y-1\">\n                <p className=\"uppercase text-xs tracking-[0.3em] text-slate-500\">Especificaciones</p>\n                <ul className=\"space-y-1 list-disc list-inside\">\n                  <li>- Fabricante: {product.manufacturer}</li>\n                  <li>- Modelo: {product.model}</li>\n                  <li>- Disponibilidad: {product.availability}</li>\n                </ul>\n              </div>\n            </div>\n            <div className=\"flex items-center justify-between\">\n              <span className=\"text-xs text-slate-500\">Disponibilidad: {product.availability}</span>\n              <span className=\"text-2xl font-semibold text-slate-900\">${finalPrice.toFixed(2)}</span>\n            </div>\n            {product.supportsCondition && product.refurbishmentDiscount && (\n              <div className=\"flex gap-3 pt-1\">\n                {(['nuevo', 'reconstruido'] as const).map((option) => (\n                  <button\n                    key={option}\n                    type=\"button\"\n                    onClick={() => setCondition(option)}\n                    className={`flex-1 rounded-full border px-4 py-2 text-xs uppercase tracking-[0.3em] transition ${\n                      condition === option\n                        ? 'border-black bg-black text-white shadow'\n                        : 'border-black/30 text-slate-600 hover:border-black'\n                    }`}\n                  >\n                    {option === 'nuevo' ? 'Nuevo' : 'Reconstruido'}\n                  </button>\n                ))}\n              </div>\n            )}\n            {product.kitAddOn && (\n              <label className=\"flex items-center gap-3 mt-3 rounded-full border border-black/10 bg-black/5 px-4 py-2 text-sm text-slate-700\">\n                <input\n                  type=\"checkbox\"\n                  className=\"accent-black\"\n                  checked={includeKit}\n                  onChange={(e) => setIncludeKit(e.target.checked)}\n                />\n                Agregar kit de instalación (+${product.kitAddOn.price.toFixed(2)})\n              </label>\n            )}\n            {ack && <div className=\"text-sm bg-black/80 text-white px-3 py-2 rounded-md w-fit\">{ack}</div>}\n            <button className=\"btn btn-primary w-full\" onClick={handleAddToCart}>\n              Agregar al carrito\n            </button>\n          </div>\n        </div>\n\n          <article className=\"space-y-6\">\n            <div>\n              <h2 className=\"text-xl font-semibold\">Descripción completa</h2>\n              <div className=\"mt-4 space-y-4 text-slate-700 leading-relaxed\">\n                {product.description\n                  .split(/\\n+/)\n                  .map((paragraph) => paragraph.trim())\n                  .filter(Boolean)\n                  .map((paragraph, index) => (\n                    <p key={index}>{paragraph}</p>\n                  ))}\n              </div>\n            </div>\n          </article>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"container-edge py-14 grid lg:grid-cols-2 gap-10\">\n      <div>\n        {renderGallery()}\n      </div>\n\n      <div>\n        <h1 className=\"text-3xl font-semibold\">{product.name}</h1>\n        <p className=\"mt-2 text-sm uppercase tracking-[0.3em] text-slate-500\">{product.manufacturer} • {product.model}</p>\n        <p className=\"mt-3 opacity-80 whitespace-pre-line\">{product.description}</p>\n        <p className=\"mt-4 text-xs text-slate-500\">Disponibilidad actual: {product.availability}</p>\n        {product.supportsCondition && product.refurbishmentDiscount && (\n          <div className=\"mt-5 flex gap-3\">\n            {(['nuevo', 'reconstruido'] as const).map((option) => (\n              <button\n                key={option}\n                type=\"button\"\n                onClick={() => setCondition(option)}\n                className={`rounded-full border px-4 py-2 text-xs uppercase tracking-[0.3em] transition ${\n                  condition === option\n                    ? 'border-black bg-black text-white'\n                    : 'border-black/20 text-slate-600 hover:border-black'\n                }`}\n              >\n                {option === 'nuevo' ? 'Nuevo' : 'Reconstruido'}\n              </button>\n            ))}\n          </div>\n        )}\n        {product.kitAddOn && (\n          <label className=\"mt-4 flex items-center gap-2 text-sm\">\n            <input\n              type=\"checkbox\"\n              className=\"accent-black\"\n              checked={includeKit}\n              onChange={(e) => setIncludeKit(e.target.checked)}\n            />\n            Agregar kit de instalación (+${product.kitAddOn.price.toFixed(2)})\n          </label>\n        )}\n\n        <p className=\"mt-6 text-2xl\">${finalPrice.toFixed(2)}</p>\n        {ack && <div className=\"mt-4 text-sm bg-black text-white px-3 py-2 rounded-md w-fit\">{ack}</div>}\n        <button onClick={handleAddToCart} className=\"btn btn-primary mt-6\">\n          Agregar al carrito\n        </button>\n\n        <div className=\"mt-10\">\n          <h2 className=\"font-medium mb-3\">Descripción</h2>\n          <h3 className=\"font-medium mt-6 mb-3\">Especificaciones</h3>\n          <ul className=\"space-y-2 list-disc list-inside opacity-90\">\n            {product.specs.map(s => <li key={s}>{s}</li>)}\n          </ul>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n\n"],"names":[],"mappings":"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","debugId":null}}]
}