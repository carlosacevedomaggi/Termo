{"version":3,"sources":["turbopack:///[project]/src/app/accessories/AccessoriesList.tsx"],"sourcesContent":["\"use client\"\r\nimport { useEffect, useMemo, useRef, useState } from 'react'\r\nimport { useCartStore } from '@/store/cart'\r\n\r\nexport type Accessory = {\r\n  id: string\r\n  name: string\r\n  price?: number\r\n  images: string[]\r\n}\r\n\r\nexport default function AccessoriesList({ items }: { items: Accessory[] }) {\r\n  const addToCart = useCartStore(s => s.addItem)\r\n  const [q, setQ] = useState('')\r\n\r\n  const filtered = useMemo(() => {\r\n    const query = q.trim().toLowerCase()\r\n    if (!query) return items\r\n    return items.filter(i => i.name.toLowerCase().includes(query) || i.id.toLowerCase().includes(query))\r\n  }, [items, q])\r\n\r\n  return (\r\n    <div className=\"container-edge py-14\">\r\n      <div className=\"flex items-end justify-between mb-6\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-semibold\">Accesorios</h1>\r\n          <p className=\"opacity-70\">Explora repuestos y piezas de instalaci√≥n.</p>\r\n        </div>\r\n        <div className=\"flex gap-2\">\r\n          <input placeholder=\"Buscar\" value={q} onChange={e=>setQ(e.target.value)} className=\"rounded-md border border-border px-3 py-2\" />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid sm:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n        {filtered.map(i => (\r\n          <div key={i.id} className=\"rounded-2xl border border-border overflow-hidden\">\r\n            <div className=\"relative aspect-square overflow-hidden bg-muted\">\r\n              <HoverSlideshow images={i.images} />\r\n            </div>\r\n            <div className=\"p-4 space-y-1\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h3 className=\"font-medium\">{i.name}</h3>\r\n                <span className=\"text-sm\">{i.price && i.price > 0 ? `$${i.price}` : 'Consultar precio'}</span>\r\n              </div>\r\n              {i.price && i.price > 0 ? (\r\n                <button className=\"btn btn-primary w-full mt-2\" onClick={()=>addToCart({ id: i.id, name: i.name, price: i.price! })}>Agregar al carrito</button>\r\n              ) : (\r\n                <a href=\"/support/contact\" className=\"btn btn-outline w-full mt-2\">Consultar</a>\r\n              )}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction HoverSlideshow({ images }: { images: string[] }) {\r\n  const [idx, setIdx] = useState(0)\r\n  const [hovered, setHovered] = useState(false)\r\n  const timer = useRef<ReturnType<typeof setInterval> | null>(null)\r\n  useEffect(() => {\r\n    if (!hovered || images.length <= 1) return\r\n    timer.current = setInterval(() => setIdx(i => (i + 1) % images.length), 1800)\r\n    return () => { if (timer.current) clearInterval(timer.current) }\r\n  }, [hovered, images])\r\n  const current = images[idx] ?? images[0]\r\n  return (\r\n    <img onMouseEnter={()=>setHovered(true)} onMouseLeave={()=>setHovered(false)} src={current} alt=\"Accesorio\" className=\"w-full h-full object-cover transition-opacity\" />\r\n  )\r\n}\r\n\r\n\r\n"],"names":[],"mappings":"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"}