{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/chickynice/Desktop/termo/src/app/products/page.tsx"],"sourcesContent":["\"use client\"\r\nimport Link from 'next/link'\r\nimport Image from \"next/image\"\r\nimport { useCartStore } from '@/store/cart'\r\nimport { useMemo, useState } from 'react'\r\nimport fs from \"fs\"\r\nimport path from \"path\"\r\n\r\ntype ProductCard = {\r\n  id: string\r\n  name: string\r\n  manufacturer: string\r\n  model: string\r\n  description: string\r\n  availability: number\r\n  price: number\r\n  quantity: number\r\n  totalProducts: number\r\n  images: string[]\r\n}\r\n\r\ntype ProductCategory = {\r\n  id: string\r\n  name: string\r\n  tagline: string\r\n  products: ProductCard[]\r\n}\r\n\r\ntype RawMeta = {\r\n  description: string\r\n  name: string\r\n  manufacturer: string\r\n  model: string\r\n  availability: number\r\n  price: number\r\n  quantity: number\r\n  totalProducts: number\r\n}\r\n\r\nfunction parseMetadata(filePath: string): RawMeta | null {\r\n  try {\r\n    const lines = fs.readFileSync(filePath, \"utf-8\").split(/\\r?\\n/).map((l) => l.trim())\r\n    const filtered = lines.filter(Boolean)\r\n    if (filtered.length < 7) return null\r\n\r\n    const description = filtered.slice(0, filtered.length - 6).join(\"\\n\")\r\n    const name = filtered[filtered.length - 6]\r\n    const manufacturer = filtered[filtered.length - 5].replace(/^Fabricante:\\s*/i, \"\").trim()\r\n    const model = filtered[filtered.length - 4].replace(/^Modelo:\\s*/i, \"\").trim()\r\n    const availability = Number(filtered[filtered.length - 3].replace(/^Disponibilidad:\\s*/i, \"\").replace(/[^0-9]/g, \"\"))\r\n    const priceMatch = filtered[filtered.length - 2].match(/\\$\\s*(\\d+[\\.,]\\d+)/)\r\n    const price = priceMatch ? Number(priceMatch[1].replace(/\\./g, \"\").replace(/,/g, \".\")) : 0\r\n    const quantity = Number(filtered[filtered.length - 1].replace(/[^0-9]/g, \"\")) || 1\r\n\r\n    return {\r\n      description,\r\n      name,\r\n      manufacturer,\r\n      model,\r\n      availability,\r\n      price,\r\n      quantity,\r\n      totalProducts: quantity,\r\n    }\r\n  } catch (error) {\r\n    console.error(\"metadata parse failed\", filePath, error)\r\n    return null\r\n  }\r\n}\r\n\r\nfunction resolveImages(folder: string): string[] {\r\n  try {\r\n    return fs\r\n      .readdirSync(folder)\r\n      .filter((file) => /\\.(png|jpe?g|webp)$/i.test(file))\r\n      .map((file) => path.posix.join(folder.replace(`${process.cwd()}\\\\public`, \"\").replace(/\\\\/g, \"/\"), file))\r\n  } catch {\r\n    return []\r\n  }\r\n}\r\n\r\nfunction loadCategory(dir: string, id: string, name: string, tagline: string): ProductCategory {\r\n  const base = path.join(process.cwd(), \"public\", \"images\", dir)\r\n  const entries = fs.readdirSync(base)\r\n  const products: ProductCard[] = []\r\n\r\n  for (const entry of entries) {\r\n    const entryPath = path.join(base, entry)\r\n    if (!fs.statSync(entryPath).isDirectory()) continue\r\n    const metaPath = path.join(entryPath, \"title-price-desc.txt\")\r\n    if (!fs.existsSync(metaPath)) continue\r\n    const meta = parseMetadata(metaPath)\r\n    if (!meta) continue\r\n    const images = resolveImages(entryPath)\r\n    products.push({\r\n      id: `${id}-${meta.model.toLowerCase().replace(/[^a-z0-9]+/g, \"-\")}`,\r\n      name: meta.name,\r\n      manufacturer: meta.manufacturer,\r\n      model: meta.model,\r\n      description: meta.description,\r\n      availability: meta.availability,\r\n      price: meta.price,\r\n      quantity: meta.quantity,\r\n      totalProducts: meta.totalProducts,\r\n      images,\r\n    })\r\n  }\r\n\r\n  products.sort((a, b) => a.name.localeCompare(b.name, \"es\"))\r\n\r\n  return {\r\n    id,\r\n    name,\r\n    tagline,\r\n    products,\r\n  }\r\n}\r\n\r\nconst CATEGORY_CONFIG: Array<{ dir: string; id: string; name: string; tagline: string }> = [\r\n  {\r\n    dir: \"termo\",\r\n    id: \"calentadores-termotronic\",\r\n    name: \"Calentadores Termotronic\",\r\n    tagline: \"Calentadores eléctricos instantáneos para hogares modernos.\",\r\n  },\r\n  {\r\n    dir: \"CBX\",\r\n    id: \"calentadores-cbx\",\r\n    name: \"Calentadores Industriales CBX\",\r\n    tagline: \"Potencia multivoltaje para aplicaciones de alto caudal.\",\r\n  },\r\n  {\r\n    dir: \"accesorios\",\r\n    id: \"accesorios\",\r\n    name: \"Accesorios y Repuestos\",\r\n    tagline: \"Componentes originales para instalación y mantenimiento.\",\r\n  },\r\n]\r\n\r\nfunction useCategories(): ProductCategory[] {\r\n  return useMemo(() => {\r\n    return CATEGORY_CONFIG.map((cfg) => loadCategory(cfg.dir, cfg.id, cfg.name, cfg.tagline))\r\n  }, [])\r\n}\r\n\r\nexport default function ProductsPage() {\r\n  const addToCart = useCartStore(s => s.addItem)\r\n  const [ack, setAck] = useState<string | null>(null)\r\n\r\n  return (\r\n    <div className=\"bg-slate-950 text-white\">\r\n      <section className=\"relative overflow-hidden\">\r\n        <div className=\"absolute inset-0 -z-10 bg-[radial-gradient(80rem_80rem_at_20%_20%,rgba(56,189,248,0.12),transparent),radial-gradient(60rem_60rem_at_80%_0%,rgba(14,116,144,0.12),transparent)]\" />\r\n        <div className=\"container-edge py-20 md:py-28\">\r\n          <div className=\"max-w-3xl\">\r\n            <p className=\"text-xs md:text-sm uppercase tracking-[0.4em] text-blue-300/80\">Nuestro portafolio</p>\r\n            <h1 className=\"mt-4 text-3xl md:text-5xl font-semibold tracking-tight\">Soluciones de agua caliente y accesorios profesionales</h1>\r\n            <p className=\"mt-4 text-base md:text-lg text-white/70\">\r\n              Explora calentadores Termotronic, la línea industrial CBX y nuestra selección de piezas originales para instalación y mantenimiento.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <section className=\"container-edge py-14 md:py-20\">\r\n        <nav className=\"flex flex-wrap gap-3 mb-10\">\r\n          {CATEGORIES.map((cat) => (\r\n            <a key={cat.id} href={`#${cat.id}`} className=\"rounded-full border border-white/20 px-4 py-2 text-sm font-medium text-white/80 hover:text-white hover:border-white transition\">\r\n              {cat.name}\r\n            </a>\r\n          ))}\r\n        </nav>\r\n\r\n        <div className=\"space-y-16\">\r\n          {CATEGORIES.map((category) => (\r\n            <section key={category.id} id={category.id} className=\"scroll-mt-24\">\r\n              <div className=\"grid lg:grid-cols-[0.9fr_1.1fr] gap-10 items-center\">\r\n                <div>\r\n                  <div className=\"inline-flex items-center gap-2 rounded-full border border-white/20 px-3 py-1 text-xs uppercase tracking-[0.4em] text-blue-200/80\">\r\n                    {category.id}\r\n                  </div>\r\n                  <h2 className=\"mt-4 text-2xl md:text-4xl font-semibold tracking-tight\">{category.name}</h2>\r\n                  <p className=\"mt-3 text-white/70 text-sm md:text-base max-w-2xl\">{category.tagline}</p>\r\n                </div>\r\n                <div className=\"relative h-64 md:h-80 rounded-3xl overflow-hidden border border-white/10\">\r\n                  <Image src={category.image} alt={category.name} fill className=\"object-cover\" sizes=\"(max-width: 768px) 100vw, 50vw\" />\r\n                  <div className=\"absolute inset-0 bg-gradient-to-t from-slate-950/70 via-transparent to-transparent\" />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"mt-10 grid gap-6 md:grid-cols-2 xl:grid-cols-3\">\r\n                {category.products.map((product) => (\r\n                  <article key={product.id} className=\"group relative rounded-3xl border border-white/10 bg-white/5 p-6 transition hover:border-white/40 hover:bg-white/10\">\r\n                    <div className=\"relative h-40 rounded-2xl overflow-hidden\">\r\n                      <Image src={product.image} alt={product.name} fill className=\"object-cover transition duration-300 group-hover:scale-105\" sizes=\"(max-width: 768px) 100vw, 33vw\" />\r\n                      <span className=\"absolute top-3 right-3 inline-flex items-center rounded-full bg-slate-950/80 px-3 py-1 text-xs font-medium\">${product.price}</span>\r\n                    </div>\r\n                    <div className=\"mt-5 space-y-3\">\r\n                      <h3 className=\"text-lg font-semibold tracking-tight text-white\">{product.name}</h3>\r\n                      <p className=\"text-sm text-white/70 leading-relaxed\">{product.description}</p>\r\n                      <div className=\"flex gap-3\">\r\n                        <Link href={`/products/${product.id}`} className=\"flex-1 rounded-full border border-white/30 px-4 py-2 text-sm text-white/90 transition hover:border-white hover:text-white\">\r\n                          Ver detalles\r\n                        </Link>\r\n                        <button\r\n                          className=\"flex-1 rounded-full bg-blue-500/90 px-4 py-2 text-sm font-semibold text-white transition hover:bg-blue-400\"\r\n                          onClick={() => {\r\n                            addToCart({ id: product.id, name: product.name, price: product.price, description: product.description })\r\n                            setAck(`${product.name} agregado al carrito`)\r\n                            setTimeout(() => setAck(null), 1500)\r\n                          }}\r\n                        >\r\n                          Añadir\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </article>\r\n                ))}\r\n              </div>\r\n            </section>\r\n          ))}\r\n        </div>\r\n      </section>\r\n\r\n      {ack && (\r\n        <div className=\"fixed inset-x-0 bottom-6 mx-auto w-fit rounded-full bg-white text-slate-900 px-5 py-3 text-sm shadow-xl\">\r\n          {ack}\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 427, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/chickynice/Desktop/termo/node_modules/next/src/shared/lib/image-external.tsx"],"sourcesContent":["import type { ImageConfigComplete, ImageLoaderProps } from './image-config'\nimport type { ImageProps, ImageLoader, StaticImageData } from './get-img-props'\n\nimport { getImgProps } from './get-img-props'\nimport { Image } from '../../client/image-component'\n\n// This is replaced by webpack alias\nimport defaultLoader from 'next/dist/shared/lib/image-loader'\n\n/**\n * For more advanced use cases, you can call `getImageProps()`\n * to get the props that would be passed to the underlying `<img>` element,\n * and instead pass to them to another component, style, canvas, etc.\n *\n * Read more: [Next.js docs: `getImageProps`](https://nextjs.org/docs/app/api-reference/components/image#getimageprops)\n */\nexport function getImageProps(imgProps: ImageProps) {\n  const { props } = getImgProps(imgProps, {\n    defaultLoader,\n    // This is replaced by webpack define plugin\n    imgConf: process.env.__NEXT_IMAGE_OPTS as any as ImageConfigComplete,\n  })\n  // Normally we don't care about undefined props because we pass to JSX,\n  // but this exported function could be used by the end user for anything\n  // so we delete undefined props to clean it up a little.\n  for (const [key, value] of Object.entries(props)) {\n    if (value === undefined) {\n      delete props[key as keyof typeof props]\n    }\n  }\n  return { props }\n}\n\nexport default Image\n\nexport type { ImageProps, ImageLoaderProps, ImageLoader, StaticImageData }\n"],"names":["getImageProps","imgProps","props","getImgProps","defaultLoader","imgConf","process","env","__NEXT_IMAGE_OPTS","key","value","Object","entries","undefined","Image"],"mappings":";;;;;;;;;;;;;;IAiCA,OAAoB,EAAA;eAApB;;IAjBgBA,aAAa,EAAA;eAAbA;;;;6BAbY;gCACN;sEAGI;AASnB,SAASA,cAAcC,QAAoB;IAChD,MAAM,EAAEC,KAAK,EAAE,GAAGC,CAAAA,GAAAA,aAAAA,WAAW,EAACF,UAAU;QACtCG,eAAAA,aAAAA,OAAa;QACb,4CAA4C;QAC5CC,OAAAA,EAASC,QAAQC,GAAG,CAACC,iBAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;IACxC;IACA,uEAAuE;IACvE,wEAAwE;IACxE,wDAAwD;IACxD,KAAK,MAAM,CAACC,KAAKC,MAAM,IAAIC,OAAOC,OAAO,CAACV,OAAQ;QAChD,IAAIQ,UAAUG,WAAW;YACvB,OAAOX,KAAK,CAACO,IAA0B;QACzC;IACF;IACA,OAAO;QAAEP;IAAM;AACjB;MAEA,WAAeY,gBAAAA,KAAK","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 501, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/chickynice/Desktop/termo/node_modules/next/image.js"],"sourcesContent":["module.exports = require('./dist/shared/lib/image-external')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}