{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/chickynice/Desktop/termo/src/app/support/docs/page.tsx"],"sourcesContent":["import fs from \"node:fs\"\r\nimport path from \"node:path\"\r\n\r\ntype DocFile = { name: string; url: string; sizeBytes?: number }\r\ntype ProductDocs = { product: string; files: DocFile[] }\r\n\r\nfunction bytesToReadable(bytes?: number) {\r\n  if (!bytes || bytes <= 0) return \"\"\r\n  const units = [\"B\", \"KB\", \"MB\", \"GB\"]\r\n  let i = 0\r\n  let n = bytes\r\n  while (n >= 1024 && i < units.length - 1) {\r\n    n /= 1024\r\n    i++\r\n  }\r\n  return `${n.toFixed(n < 10 && i > 0 ? 1 : 0)} ${units[i]}`\r\n}\r\n\r\nfunction safeListDir(dir: string): string[] {\r\n  try {\r\n    return fs.readdirSync(dir)\r\n  } catch {\r\n    return []\r\n  }\r\n}\r\n\r\nfunction loadDocuments(): { products: ProductDocs[] } {\r\n  const projectRoot = process.cwd()\r\n  // Root-level folder per user instruction. Support common spelling too.\r\n  const candidates = [\"documenos\", \"documentos\"]\r\n  let baseFolder = \"\"\r\n  for (const c of candidates) {\r\n    const full = path.join(projectRoot, c)\r\n    if (fs.existsSync(full) && fs.statSync(full).isDirectory()) {\r\n      baseFolder = full\r\n      break\r\n    }\r\n  }\r\n\r\n  const products: ProductDocs[] = []\r\n  if (!baseFolder) return { products }\r\n\r\n  const productDirs = safeListDir(baseFolder)\r\n    .filter((entry) => fs.existsSync(path.join(baseFolder, entry)) && fs.statSync(path.join(baseFolder, entry)).isDirectory())\r\n    .sort((a, b) => a.localeCompare(b, undefined, { sensitivity: \"base\" }))\r\n\r\n  for (const product of productDirs) {\r\n    const productPath = path.join(baseFolder, product)\r\n    const files = safeListDir(productPath)\r\n      .filter((f) => f.toLowerCase().endsWith(\".pdf\"))\r\n      .map((file) => {\r\n        const fullPath = path.join(productPath, file)\r\n        const stat = fs.existsSync(fullPath) ? fs.statSync(fullPath) : undefined\r\n        const url = `/api/docs/${encodeURIComponent(product)}/${encodeURIComponent(file)}`\r\n        return { name: file.replace(/\\.pdf$/i, \"\"), url, sizeBytes: stat?.size }\r\n      })\r\n      .sort((a, b) => a.name.localeCompare(b.name, undefined, { sensitivity: \"base\" }))\r\n\r\n    if (files.length) {\r\n      products.push({ product, files })\r\n    }\r\n  }\r\n\r\n  return { products }\r\n}\r\n\r\nexport const metadata = {\r\n  title: \"Documentos | TerMo\",\r\n  description: \"Descarga manuales, fichas técnicas y documentación por producto.\",\r\n}\r\n\r\nexport default function DocumentsPage() {\r\n  const { products } = loadDocuments()\r\n\r\n  return (\r\n    <div>\r\n      <section className=\"relative overflow-hidden border-b border-black/10\">\r\n        <div className=\"absolute inset-0 -z-10 bg-[radial-gradient(60rem_60rem_at_100%_-10%,rgba(0,0,0,0.06),transparent_60%),radial-gradient(40rem_40rem_at_-10%_-20%,rgba(0,0,0,0.04),transparent_60%)]\" />\r\n        <div className=\"container-edge py-14 md:py-20\">\r\n          <div className=\"inline-flex items-center gap-2 rounded-full border border-black/10 bg-white/80 px-3 py-1 text-xs mb-5\">\r\n            <span className=\"h-2 w-2 rounded-full bg-blue-500\" />\r\n            Biblioteca de documentos\r\n          </div>\r\n          <h1 className=\"text-3xl md:text-5xl font-semibold leading-tight tracking-tight\">Documentos</h1>\r\n          <p className=\"mt-3 text-base md:text-lg opacity-80 max-w-2xl\">\r\n            Descarga manuales, fichas técnicas y guías de instalación organizadas por producto.\r\n          </p>\r\n        </div>\r\n      </section>\r\n\r\n      <section className=\"container-edge py-10 md:py-14\">\r\n        {products.length === 0 ? (\r\n          <div className=\"rounded-xl border border-black/10 p-6 bg-muted\">\r\n            No se encontraron documentos. Coloca tus PDFs en <code>documenos/&lt;producto&gt;</code> en la raíz del proyecto.\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-8\">\r\n            {products.map(({ product, files }) => (\r\n              <div key={product} className=\"rounded-2xl border border-black/10 bg-white/80 backdrop-blur p-5 md:p-6 shadow-sm\">\r\n                <div className=\"flex items-center justify-between gap-4 mb-4\">\r\n                  <h2 className=\"text-lg md:text-xl font-semibold tracking-tight\">{product}</h2>\r\n                  <span className=\"text-xs opacity-60\">{files.length} archivo{files.length !== 1 ? \"s\" : \"\"}</span>\r\n                </div>\r\n                <ul className=\"divide-y divide-black/10\">\r\n                  {files.map((f, idx) => (\r\n                    <li key={idx} className=\"py-3 flex items-center justify-between gap-4\">\r\n                      <div className=\"min-w-0\">\r\n                        <div className=\"truncate font-medium\">{f.name}</div>\r\n                        <div className=\"text-xs opacity-60\">PDF {bytesToReadable(f.sizeBytes)}</div>\r\n                      </div>\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <a\r\n                          href={f.url}\r\n                          download\r\n                          className=\"btn btn-outline h-9 px-3\"\r\n                          aria-label={`Descargar ${f.name}`}\r\n                        >\r\n                          Descargar\r\n                        </a>\r\n                      </div>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </section>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n"],"names":[],"mappings":"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","debugId":null}}]
}